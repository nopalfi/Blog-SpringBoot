<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${post.getTitle}+' - Springboot Blog'">SpringBoot</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}">
    <script th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.min.js}"></script>
    <script th:src="@{/webjars/moment/2.29.4/moment.js}"></script>
</head>
<body>
<header class="p-3 text-bg-light">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <h1 class="text-dark"><a href="/" class="text-decoration-none">BlogApplication</a></h1>
        </div>
        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li><a href="/" class="nav-link px-2 link-secondary">Overview</a></li>
            <li><a th:href="@{/addpost}" class="nav-link px-2 link-dark">Add New Post</a></li>
            <li th:if="${authName == 'anonymousUser'}"><a href="/login" class="nav-link px-2 link-dark">Log In</a></li>
            <li th:unless="${authName == 'anonymousUser'}"><a href="/logout" class="nav-link px-2 link-dark">Log Out</a></li>
        </ul>
    </div>
</header>

<article class="mt-3 w-75 m-auto mb-lg-5">
    <a class="text-decoration-none" th:href="'/post/'+${post.getPostId}"><h2 class="blog-post-title mb-1" th:text="${post.getTitle}">Blog Title</h2></a>
    <script th:inline="javascript">document.write('<span class="blog-post-meta mb-1">Published by: ',moment.unix([[${post.getCreatedAt}]]).fromNow(),'</span>');</script>
    <script th:if="${post.getModifiedAt() != null}" th:inline="javascript">document.write('<span class="blog-post-meta mb-1">Modified by: ',moment.unix([[${post.getModifiedAt}]]).fromNow(),'</span>');</script>
    <p class="blog-post-meta" th:text="'Posted by: '+${post.getAccount.getUsername}">Posted By </p>
    <hr>
    <p th:text="${post.getContent}" class="mb-3 mt-3" style="text-align: justify">Content</p>
    <br>
    <hr>
    <a th:href="'/updatepost/'+${postId}"> <button type="button" name="action" value="edit" class="btn btn-secondary">Edit</button></a>
    <a th:href="'/deletepost/'+${postId}"> <button type="button" name="action" value="delete" class="btn btn-warning">Delete</button></a>

</article>

<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <p class="col-md-4 mb-0 text-muted">&copy; 2022 Company, Inc</p>

    <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
        <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
    </a>

    <ul class="nav col-md-4 justify-content-end">
        <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Home</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Features</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Pricing</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">FAQs</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">About</a></li>
    </ul>
</footer>
</body>
</html>